<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Mi Canci√≥n para Ti üé∂</title>
  <!-- Tipograf√≠as -->
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #1db954, #4b0000); /* verde Spotify a rojo vino */
      font-family: 'Poppins', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      color: #fff;
      text-align: center;
    }

    h1 {
      font-size: 2.5em;
      margin-bottom: 20px;
      animation: fadeIn 2s ease-in-out;
      font-family: 'Great Vibes', cursive;
    }

    .container {
      display: flex;
      flex-direction: row;
      gap: 20px;
      align-items: flex-start;
      justify-content: center;
      flex-wrap: wrap;
    }

    .lyrics-panel {
      background: rgba(0,0,0,0.7);
      border-radius: 15px;
      padding: 20px;
      width: 280px;
      min-height: 200px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1.3em;
      font-weight: 600;
      text-align: center;
      animation: glowText 2s ease-in-out infinite alternate;
    }

    @keyframes glowText {
      from { text-shadow: 0 0 10px #1db954; color: #fff; }
      to { text-shadow: 0 0 20px #ff4d6d; color: #ffe6f0; }
    }

    .player {
      background: #000; /* reproductor negro */
      border-radius: 20px;
      padding: 20px;
      width: 300px;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }

    .player img {
      width: 100%;
      border-radius: 15px;
      margin-bottom: 15px;
    }

    audio {
      width: 100%;
      outline: none;
    }

    button {
      margin-top: 20px;
      background: #1db954;
      border: none;
      padding: 10px 20px;
      border-radius: 30px;
      color: white;
      font-size: 1em;
      cursor: pointer;
      transition: transform 0.3s, background 0.3s;
    }

    button:hover {
      transform: scale(1.1);
      background: #4b0000;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Responsividad */
    @media (max-width: 768px) {
      h1 { font-size: 2em; }
      .container { flex-direction: column; align-items: center; }
      .lyrics-panel { width: 90%; font-size: 1.1em; }
      .player { width: 90%; }
    }

    @media (max-width: 480px) {
      h1 { font-size: 1.6em; }
      .lyrics-panel { width: 95%; font-size: 1em; }
      .player { width: 95%; padding: 15px; }
    }
  </style>
</head>
<body>
  <h1>"Nuestra canci√≥n especial üíñ"</h1>

  <div class="container">
    <!-- Panel de letra sincronizada -->
    <div class="lyrics-panel" id="lyric-box">‚ù§Ô∏è...</div>

    <!-- Reproductor con foto -->
    <div class="player">
      <img src="tu-foto.jpg" alt="Foto especial">
      <audio id="audio" controls>
        <source src="tu-cancion.mp3" type="audio/mpeg">
        Tu navegador no soporta el reproductor de audio.
      </audio>
    </div>
  </div>

  <!-- Bot√≥n de regreso -->
  <button onclick="window.location.href='index.html'">Volver üíå</button>

  <script>
    const audio = document.getElementById("audio");
    const lyricBox = document.getElementById("lyric-box");
    let lyrics = [];

    // Cargar archivo .lrc
    fetch("letraaudio.lrc")
      .then(response => response.text())
      .then(text => {
        lyrics = text.split("\n").map(line => {
          const match = line.match(/\[(\d+):(\d+\.\d+)\](.*)/);
          if (match) {
            const minutes = parseInt(match[1]);
            const seconds = parseFloat(match[2]);
            const time = minutes * 60 + seconds;
            return { time, text: match[3] };
          }
        }).filter(Boolean);
      });

    // Mostrar la l√≠nea correcta seg√∫n el tiempo
    audio.addEventListener("timeupdate", () => {
      const currentTime = audio.currentTime;
      const currentLyric = lyrics.find((l, i) => {
        const next = lyrics[i + 1];
        return currentTime >= l.time && (!next || currentTime < next.time);
      });
      if (currentLyric) {
        lyricBox.innerText = currentLyric.text;
      }
    });
  </script>
</body>
</html>